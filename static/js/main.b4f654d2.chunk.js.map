{"version":3,"sources":["custom_hooks/useInterval.js","index.js"],"names":["useInterval","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","createTimer","value","init","state","reducer","action","type","sessTimer","isCountdown","breakTimer","currentTimer","isSession","payload","Error","Container","initialState","sessTitle","breakTitle","alarmTime","useReducer","dispatch","Helmet","toString","padStart","title","timer","toggleCountdown","reset","alarm","document","querySelector","pause","currentTime","incSession","decSession","incBreak","decBreak","Clock","props","play","src","ButtonBox","onClick","TimerLength","mappedInfo","map","elem","toLowerCase","className","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b4f654d2.chunk.js","sourcesContent":["import React, {useRef, useEffect} from \"react\"\r\n\r\nconst useInterval = (callback, delay) => {\r\n  const savedCallback = useRef(null)\r\n\r\n  useEffect(() => {\r\n    savedCallback.current = callback\r\n  }, [callback])\r\n\r\n  useEffect(() => {\r\n    const tick = () => {savedCallback.current()}\r\n\r\n    if (delay !== null){\r\n      let id = setInterval(tick, delay)\r\n      return () => clearInterval(id)\r\n    }\r\n  }, [delay])\r\n}\r\n\r\nexport default useInterval","import React, {useReducer, useEffect} from 'react';\nimport {Helmet} from 'react-helmet'\nimport useInterval from \"./custom_hooks/useInterval.js\"\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nconst createTimer = value => [value, 0]\n\nconst init = (state) => {return {...state}}\n\nconst reducer = (state, action) => {\n  switch(action.type){\n    case \"incSession\":\n      if (state.sessTimer[0] < 60 && !state.isCountdown)\n        return {...state, sessTimer: createTimer(state.sessTimer[0]+1)}\n      else return state\n    case \"decSession\":\n      if (state.sessTimer[0] > 1 && !state.isCountdown)\n        return {...state, sessTimer: createTimer(state.sessTimer[0]-1)}\n      else return state\n    case \"incBreak\":\n      if (state.breakTimer[0] < 60 && !state.isCountdown)\n        return {...state, breakTimer: createTimer(state.breakTimer[0]+1)}\n      else return state\n    case \"decBreak\":\n      if (state.breakTimer[0] > 1 && !state.isCountdown)\n        return {...state, breakTimer: createTimer(state.breakTimer[0]-1)}\n      else return state\n    case \"toggleTimers\":\n      return {...state, \n        currentTimer: state.isSession ? state.sessTimer : state.breakTimer}\n    case \"toggleSessionFlag\":\n      return {...state, isSession: !state.isSession}\n    case \"updateSeconds\":\n      return {...state, currentTimer: [state.currentTimer[0], state.currentTimer[1] - 1]}\n    case \"updateMinutes\":\n      return {...state, currentTimer: [state.currentTimer[0] - 1, 59]}\n    case \"toggleCountdownFlag\":\n      return {...state, isCountdown: !state.isCountdown}\n    case \"reset\":\n      return init(action.payload)\n    default:\n      throw new Error()\n  }\n}\n\nconst Container = () => {\n  const initialState = {\n    sessTimer: createTimer(25),\n    breakTimer: createTimer(5),\n    isSession: true,\n    isCountdown: false,\n    sessTitle: \"Session\",\n    breakTitle: \"Break\",\n    alarmTime: 0,\n  }\n  initialState.currentTimer = initialState.sessTimer\n\n  const [state, dispatch] = useReducer(reducer, initialState, init)\n\n  useEffect(() => {\n    dispatch({type: \"toggleTimers\"})\n  }, [state.isSession, state.sessTimer, state.breakTimer])\n\n  useInterval(() => {\n    let current = state.currentTimer\n    if (current[0] === 0 && current[1] === 0){\n      dispatch({type: \"toggleSessionFlag\"})\n    }\n    else if (current[1] === 0){\n      dispatch({type: \"updateMinutes\"})\n    }\n    else {\n      dispatch({type: \"updateSeconds\"})\n    }\n  }, state.isCountdown ? 1000 : null)\n\n  const restart = () => {\n    let alarm = document.querySelector(\"#beep\")\n    alarm.pause()\n    alarm.currentTime = 0\n    return dispatch({type: \"reset\", payload: initialState})\n  }\n\n  return (\n  <div id=\"content-wrapper\">\n    <Helmet>\n      <title>{state.isCountdown ? `(${state.currentTimer[0].toString().padStart(2,0)}:${state.currentTimer[1].toString().padStart(2,0)}) Majora's Mask Clock` : `Majora's Mask Clock`}</title>\n    </Helmet>\n    <h1 id=\"title\">Majora's Mask Timer</h1>\n    <main>\n      <Clock title={state.isSession ? state.sessTitle : state.breakTitle} timer={state.currentTimer}/>\n      <ButtonBox toggleCountdown = {() => dispatch({type: \"toggleCountdownFlag\"})} \n      reset = {restart}/>\n      <TimerLength incSession = {() => dispatch({type: \"incSession\"})} decSession = {() => dispatch({type: \"decSession\"})}\n      incBreak = {() => dispatch({type: \"incBreak\"})} decBreak = {() => dispatch({type: \"decBreak\"})}\n      sessTimer = {state.sessTimer[0]} breakTimer = {state.breakTimer[0]}/>\n    </main>\n  </div>)\n}\n\nconst Clock = (props) => {\n  useEffect(() => {\n    if (props.timer[0] === 0 && props.timer[1] === 0){\n      let alarm = document.querySelector(\"#beep\");\n      alarm.play();\n    }\n  }, [props.timer[1]])\n\n  return (<div id=\"clock\">\n    <p id=\"timer-label\">{props.title}</p>\n    <p id=\"time-left\">{props.timer[0].toString().padStart(2,0)}:{props.timer[1].toString().padStart(2,0)}</p>\n    <audio id=\"beep\" src=\"https://github.com/DrantDumani/Web-Projects-2021/blob/main/js_clock/public/alarmSFX/ClockTower.wav?raw=true\"></audio>\n  </div>)\n}\n\nconst ButtonBox = (props) => {\n  return (<div id=\"btn-container\">\n    <button id=\"start_stop\" onClick={props.toggleCountdown}>Play/Pause</button>\n    <button id=\"reset\" onClick={props.reset}>Reset</button>\n  </div>)\n}\n\nconst TimerLength = (props) => {\n  const elementInfo = [[\"Session\", props.incSession, props.sessTimer, props.decSession],\n   [\"Break\", props.incBreak, props.breakTimer, props.decBreak]]\n\n  const mappedInfo = elementInfo.map(elem => (\n  <div key={elem[0]}>\n    <h2 id={`${elem[0].toLowerCase()}-label`}>{elem[0]} Length</h2>\n    <div className=\"length-controls\">\n      <button className=\"btn\" id={`${elem[0].toLowerCase()}-increment`} onClick={elem[1]}><div className=\"arrow-up\"></div></button>\n      <span id={`${elem[0].toLowerCase()}-length`}>{elem[2]}</span>\n      <button className=\"btn\" id={`${elem[0].toLowerCase()}-decrement`} onClick={elem[3]}><div className=\"arrow-down\"></div></button>\n    </div>\n  </div>))\n\n  return (<div id=\"length-container\">{mappedInfo}</div>)\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Container />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}